<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArmaghBuilds - ROUGH PROTOTYPE V0.3</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, doc, updateDoc, arrayUnion, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Expose Firebase to window for React component to use
        window.firebaseModules = { 
            initializeApp, getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken,
            getFirestore, collection, addDoc, onSnapshot, query, orderBy, doc, updateDoc, arrayUnion, serverTimestamp 
        };
    </script>

    <style>
        /* INTENTIONALLY ROUGH AND FLAWED PROTOTYPE CSS (V0.3) */
        body { font-family: 'Times New Roman', serif; margin: 0; background-color: #f0f0f0; color: #333; }
        .container { max-width: 900px; margin: 0 auto; padding: 10px; } /* Reduced padding */
        
        .nav-bar { 
            background-color: #33FF55; /* Jarring Green */
            color: black; 
            padding: 5px 10px; /* Reduced padding */
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            border-bottom: 3px solid #000; /* Heavy border */
        }
        .nav-link { color: #888; cursor: pointer; text-decoration: underline; margin-left: 20px; }
        .nav-link:hover { color: #000; }
        .header { font-size: 24px; font-weight: 900; color: #CC0000; } /* Ugly red title */

        .auth-container { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: #f8f8f8; } 
        .auth-box { 
            background-color: #FFFFFF; /* White */
            padding: 30px; 
            border: 3px solid #333; /* Changed from dashed red to solid grey/black box */
            width: 90%; 
            max-width: 300px; /* Inconsistent width retained */
            text-align: left;
        }

        .form-group { margin-bottom: 20px; } /* Inconsistent margin */
        .label { display: block; margin-bottom: 2px; font-weight: normal; font-size: 11px; text-transform: uppercase; }
        .input-field, .select-field, .textarea-field { border: 2px solid #555; padding: 5px; width: 95%; box-sizing: border-box; background-color: #EFEFEF; }
        
        .button-primary { background-color: #666; color: white; border: 3px outset #999; padding: 12px 15px; cursor: pointer; width: 100%; margin-top: 15px; font-weight: bold; }
        .button-secondary { background-color: #DDDDDD; border: 1px solid #777; padding: 3px 5px; cursor: pointer; margin-right: 5px; }

        .job-card { 
            border: 1px solid #000; 
            padding: 10px; 
            margin-bottom: 10px; 
            background-color: #FFFFFF; 
            box-shadow: 4px 4px 0 #AAA; /* Heavy, ugly shadow */
        }
        .job-card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
        
        .detail-layout { display: flex; gap: 5px; padding: 10px; } /* Reduced gap/padding */
        .detail-info { flex: 2; background-color: white; padding: 15px; border: 1px dashed #333; }
        .detail-bids { flex: 1; background-color: #F9F9F9; /* Removed light blue color */ padding: 15px; border: 1px solid #000; }
        .bid-item { border: 1px solid #333; padding: 5px; margin-bottom: 5px; background-color: #FFF; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        const { useState, useEffect } = React;
        const { createRoot } = ReactDOM;
        
        // Simplified Icons (just basic text placeholders for prototype)
        const Icons = {
            Hammer: () => <span>[H]</span>,
            MapPin: () => <span>[L]</span>,
            Clock: () => <span>[T]</span>,
            Plus: () => <span>[+]</span>,
            User: () => <span>[U]</span>,
            LogOut: () => <span>[X]</span>,
            Search: () => <span>[S]</span>,
            Gavel: () => <span>[G]</span>
        };

        const LOCATIONS = ["Armagh City", "Portadown", "Lurgan", "Keady", "Markethill", "Tandragee", "Richhill", "Poyntzpass"];
        
        const MOCK_JOBS = [
            {
                id: "mock1", 
                title: "New Garden Wall Build", 
                description: "Need a skilled bricklayer for a 15-meter garden retaining wall in a housing estate. Ready to start ASAP. Bricks provided by client.", 
                budget: "£1,500 - £2,000", 
                location: "Keady", 
                createdBy: "Seamus O'Hagan", 
                creatorId: "mockSeamus", 
                status: 'open', 
                createdAt: { seconds: Date.now() / 1000 - 60 * 60 }, // 1 hour ago
                bids: [{ bidder: "Armagh Builders Ltd", amount: "£1,850", message: "We can start Monday, fully insured.", date: new Date().toISOString() }]
            },
            {
                id: "mock2", 
                title: "Leaking Roof Repair", 
                description: "Emergency repair needed for a slate roof on a semi-detached house in the city centre. Likely a few missing slates. Must be insured.", 
                budget: "£300 - £500", 
                location: "Armagh City", 
                createdBy: "Sarah McCann", 
                creatorId: "mockSarah", 
                status: 'open', 
                createdAt: { seconds: Date.now() / 1000 - 60 * 60 * 5 }, // 5 hours ago
                bids: []
            },
            {
                id: "mock3", 
                title: "Kitchen Cabinet Installation", 
                description: "Installation of flat-pack kitchen units. All units supplied, requires precise fitting and worktop cutting. Plumbing not required.", 
                budget: "£800 - £1,200", 
                location: "Portadown", 
                createdBy: "The Gilmores", 
                creatorId: "mockGilmores", 
                status: 'open', 
                createdAt: { seconds: Date.now() / 1000 - 60 * 60 * 24 }, // 1 day ago
                bids: [{ bidder: "Loughshore Joinery", amount: "£950", message: "Fully certified carpenter available.", date: new Date().toISOString() }, { bidder: "Mark Ltd", amount: "£1,100", message: "Can do this weekend.", date: new Date().toISOString() }]
            },
            {
                id: "mock4", 
                title: "New Driveway Paving", 
                description: "Replace current tarmac drive with block paving. Area approx. 50 sq meters. Must include proper base and drainage.", 
                budget: "£4,000 - £6,000", 
                location: "Lurgan", 
                createdBy: "Mrs. Kelly", 
                creatorId: "mockKelly", 
                status: 'open', 
                createdAt: { seconds: Date.now() / 1000 - 60 * 60 * 48 }, // 2 days ago
                bids: []
            },
            {
                id: "mock5", 
                title: "Plumbing for New Boiler", 
                description: "Licensed plumber required to install new gas boiler and connect to existing heating system in a semi-detached home in Tandragee. Gas safe register required.", 
                budget: "£1,000 - £1,500", 
                location: "Tandragee", 
                createdBy: "Paddy & Anne", 
                creatorId: "mockPaddy", 
                status: 'open', 
                createdAt: { seconds: Date.now() / 1000 - 60 * 60 * 72 }, // 3 days ago
                bids: []
            }
        ];

        
        function App() {
            // Firebase State
            const [user, setUser] = useState(null);
            const [db, setDb] = useState(null);
            const [appId, setAppId] = useState(null);
            
            // App State
            // Initialize with mock data for demonstration
            const [jobs, setJobs] = useState(MOCK_JOBS); 
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);
            
            // UI State
            const [currentView, setCurrentView] = useState("auth"); // auth, dashboard, postJob, jobDetail
            const [userProfile, setUserProfile] = useState({ name: "", role: "" }); // role: 'client' or 'builder'
            const [selectedJob, setSelectedJob] = useState(null);
            const [filterLocation, setFilterLocation] = useState("All");

            // --- Firebase Initialization ---
            useEffect(() => {
                const initFirebase = async () => {
                    try {
                        const { initializeApp, getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken, getFirestore } = window.firebaseModules;
                        
                        // Global variables are injected here
                        const firebaseConfig = JSON.parse(__firebase_config);
                        const app = initializeApp(firebaseConfig);
                        const auth = getAuth(app);
                        const firestore = getFirestore(app);
                        const currentAppId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                        
                        setDb(firestore);
                        setAppId(currentAppId);

                        // Auth Logic
                        if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                            await signInWithCustomToken(auth, __initial_auth_token);
                        } else {
                            await signInAnonymously(auth);
                        }

                        onAuthStateChanged(auth, (u) => {
                            if (u) {
                                setUser(u);
                                const savedName = localStorage.getItem('ab_name');
                                const savedRole = localStorage.getItem('ab_role');
                                if (savedName && savedRole) {
                                    setUserProfile({ name: savedName, role: savedRole });
                                    setCurrentView("dashboard");
                                }
                            }
                        });
                    } catch (err) {
                        console.error("Firebase init error:", err);
                        setError("Failed to connect to system.");
                    }
                };

                initFirebase();
            }, []);

            // --- Data Fetching ---
            useEffect(() => {
                if (!user || !db || !appId) return;
                
                const { collection, onSnapshot, query } = window.firebaseModules;
                
                // Fetch public jobs
                const q = query(collection(db, 'artifacts', appId, 'public', 'data', 'jobs'));
                
                const unsubscribe = onSnapshot(q, (snapshot) => {
                    const jobsData = snapshot.docs.map(doc => ({
                        id: doc.id,
                        ...doc.data()
                    }));
                    
                    // Combine real and mock jobs for display, ensuring real data takes precedence
                    const realJobIds = new Set(jobsData.map(j => j.id));
                    const combinedJobs = [...jobsData, ...MOCK_JOBS.filter(j => !realJobIds.has(j.id))];

                    // Sort locally
                    combinedJobs.sort((a, b) => (b.createdAt?.seconds || 0) - (a.createdAt?.seconds || 0));
                    
                    setJobs(combinedJobs);
                    setLoading(false);
                }, (err) => {
                    console.error("Error fetching jobs:", err);
                    // If fetching fails, we keep the mock jobs and stop loading animation
                    setLoading(false); 
                });

                return () => unsubscribe();
            }, [user, db, appId]);

            // --- Actions ---

            const handleLogin = (e) => {
                e.preventDefault();
                const name = e.target.username.value;
                const role = e.target.role.value;
                if (!name) return;
                
                localStorage.setItem('ab_name', name);
                localStorage.setItem('ab_role', role);
                setUserProfile({ name, role });
                setCurrentView("dashboard");
            };

            const handleLogout = () => {
                localStorage.removeItem('ab_name');
                localStorage.removeItem('ab_role');
                setUserProfile({ name: "", role: "" });
                setCurrentView("auth");
            };

            const handlePostJob = async (e) => {
                e.preventDefault();
                if (!db || !user) return;
                
                const title = e.target.title.value;
                const desc = e.target.desc.value;
                const budget = e.target.budget.value;
                const location = e.target.location.value;
                
                setLoading(true);
                try {
                    const { collection, addDoc, serverTimestamp } = window.firebaseModules;
                    await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'jobs'), {
                        title,
                        description: desc,
                        budget: budget,
                        location,
                        createdBy: userProfile.name, // Uses the name entered by the user
                        creatorId: user.uid,
                        status: 'open',
                        createdAt: serverTimestamp(),
                        bids: []
                    });
                    setCurrentView("dashboard");
                } catch (err) {
                    console.error(err);
                    console.log("Failed to post job.");
                } finally {
                    setLoading(false);
                }
            };

            const handlePlaceBid = async (e) => {
                e.preventDefault();
                if (!db || !selectedJob || selectedJob.id.startsWith("mock")) return; // Prevent bidding on mock data

                const amount = e.target.amount.value;
                const message = e.target.message.value;

                try {
                    const { doc, updateDoc, arrayUnion } = window.firebaseModules;
                    const jobRef = doc(db, 'artifacts', appId, 'public', 'data', 'jobs', selectedJob.id);
                    
                    const newBid = {
                        bidder: userProfile.name, // Uses the name entered by the user
                        bidderId: user.uid,
                        amount: amount,
                        message: message,
                        date: new Date().toISOString()
                    };

                    await updateDoc(jobRef, {
                        bids: arrayUnion(newBid)
                    });
                    
                    // Optimistic update for UI
                    setSelectedJob(prev => ({
                        ...prev,
                        bids: [...(prev.bids || []), newBid]
                    }));
                    
                    e.target.reset();
                } catch (err) {
                    console.error("Bid failed", err);
                    console.log("Failed to place bid.");
                }
            };

            // --- Render Components ---

            if (currentView === "auth") {
                return (
                    <div className="auth-container">
                        <div className="auth-box">
                            <h1 className="header" style={{textAlign: 'center', marginBottom: '20px', color: '#333'}}>ArmaghBuilds Prototype</h1>
                            
                            <form onSubmit={handleLogin} style={{display: 'flex', flexDirection: 'column', gap: '15px'}}>
                                <div className="form-group">
                                    <label className="label">Display Name (REQUIRED)</label>
                                    <input name="username" type="text" required placeholder="Enter Name Here" className="input-field" />
                                </div>
                                <div className="form-group">
                                    <label className="label">I am a...</label>
                                    <select name="role" className="select-field">
                                        <option value="client">Homeowner (I need work done)</option>
                                        <option value="builder">Builder / Contractor (I want work)</option>
                                    </select>
                                </div>
                                <button type="submit" className="button-primary">
                                    ENTER MARKETPLACE!
                                </button>
                                {/* Intentionally misaligned dev note */}
                                <p style={{fontSize: '9px', color: '#CC0000', margin: '5px 0 0 -10px'}}>Warning: Check console for init errors.</p> 
                            </form>
                        </div>
                    </div>
                );
            }

            // Filter logic
            const filteredJobs = jobs.filter(job => 
                filterLocation === "All" || job.location === filterLocation
            );

            return (
                <div style={{minHeight: '100vh', display: 'flex', flexDirection: 'column'}}>
                    {/* Navigation */}
                    <nav className="nav-bar">
                        <div className="header" onClick={() => setCurrentView('dashboard')} style={{cursor: 'pointer'}}>
                            {Icons.Hammer()} ArmaghBuilds - V0.3
                        </div>
                        <div style={{display: 'flex', alignItems: 'center'}}>
                            <span style={{marginRight: '10px', fontSize: '12px', color: 'black'}}>{userProfile.name} ({userProfile.role === 'client' ? 'Client' : 'Builder'})</span>
                            <button onClick={handleLogout} className="nav-link">
                                {Icons.LogOut()} Logout
                            </button>
                        </div>
                    </nav>

                    {/* Main Content */}
                    <main className="container" style={{flexGrow: 1}}>
                        
                        {/* Dashboard View (Warning removed) */}
                        {currentView === 'dashboard' && (
                            <div>
                                {/* Action Header */}
                                <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '10px', padding: '15px', border: '1px solid #999', backgroundColor: 'white'}}>
                                    <h2 style={{fontSize: '18px', margin: 0}}>Job Listings</h2>
                                    <div style={{display: 'flex', gap: '5px'}}>
                                        {userProfile.role === 'client' && (
                                            <button onClick={() => setCurrentView('postJob')} className="button-secondary" style={{width: 'auto', padding: '5px 8px'}}>
                                                {Icons.Plus()} Post New Job
                                            </button>
                                        )}
                                        <select 
                                            value={filterLocation}
                                            onChange={(e) => setFilterLocation(e.target.value)}
                                            className="select-field" style={{width: '120px', padding: '5px 3px'}}
                                        >
                                            <option value="All">All Locations</option>
                                            {LOCATIONS.map(loc => <option key={loc} value={loc}>{loc}</option>)}
                                        </select>
                                    </div>
                                </div>

                                {/* Job Grid */}
                                {loading && jobs.length === 0 ? (
                                    <div style={{textAlign: 'center', padding: '50px', fontSize: '18px'}}>Loading real-time data...</div>
                                ) : filteredJobs.length === 0 ? (
                                    <div style={{textAlign: 'center', padding: '50px', border: '3px dotted #FF3300', backgroundColor: 'white'}}>
                                        {Icons.Search()} No jobs found!
                                    </div>
                                ) : (
                                    <div className="job-card-grid">
                                        {filteredJobs.map(job => (
                                            <div key={job.id} className="job-card" style={{display: 'flex', flexDirection: 'column', justifyContent: 'space-between'}}>
                                                <div>
                                                    <div style={{display: 'flex', justifyContent: 'space-between', fontSize: '10px', marginBottom: '2px'}}>
                                                        <span style={{backgroundColor: '#ccc', padding: '1px 3px'}}>{job.status}</span>
                                                        <span style={{color: '#CC0000'}}>{job.bids?.length || 0} Bids</span>
                                                    </div>
                                                    <h3 style={{fontSize: '16px', margin: '3px 0', textDecoration: 'underline'}}>{job.title}</h3>
                                                    <p style={{fontSize: '12px', margin: '0 0 5px 0', height: '3em', overflow: 'hidden'}}>{job.description}</p>
                                                    
                                                    <div style={{fontSize: '12px', marginBottom: '5px', borderTop: '1px dotted #ccc', paddingTop: '5px'}}>
                                                        <div style={{display: 'flex', alignItems: 'center'}}>{Icons.MapPin()} Loc: {job.location}</div>
                                                        <div style={{display: 'flex', alignItems: 'center'}}>{Icons.User()} Client: {job.createdBy}</div>
                                                        <div style={{fontWeight: '900', color: 'green'}}>COST: £ {job.budget}</div>
                                                    </div>
                                                </div>
                                                <button 
                                                    onClick={() => { setSelectedJob(job); setCurrentView('jobDetail'); }}
                                                    className="button-secondary" style={{width: 'auto', alignSelf: 'flex-start', padding: '2px 5px'}}
                                                >
                                                    VIEW JOB >
                                                </button>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Post Job View */}
                        {currentView === 'postJob' && (
                            <div style={{maxWidth: '500px', margin: '0 auto', border: '5px double #333', backgroundColor: 'white'}}>
                                <div style={{padding: '10px 20px', backgroundColor: '#33FF55', color: 'black', display: 'flex', justifyContent: 'space-between', borderBottom: '2px solid black'}}>
                                    <h3 style={{margin: 0}}>Post New Work</h3>
                                    <button onClick={() => setCurrentView('dashboard')} className="nav-link" style={{color: 'black', border: '1px solid black', padding: '2px 5px'}}>Cancel</button>
                                </div>
                                <form onSubmit={handlePostJob} style={{padding: '20px'}}>
                                    <div className="form-group">
                                        <label className="label">Project Title</label>
                                        <input name="title" required placeholder="e.g. Bathroom Renovation needed" className="input-field" />
                                    </div>
                                    
                                    <div style={{display: 'grid', gridTemplateColumns: '1fr', gap: '15px'}}>
                                        <div className="form-group">
                                            <label className="label">Budget Estimate (£) -- MUST BE STRING</label>
                                            <input name="budget" type="text" required placeholder="e.g. 500 - 1000" className="input-field" />
                                        </div>
                                        <div className="form-group">
                                            <label className="label">Location</label>
                                            <select name="location" className="select-field">
                                                {LOCATIONS.map(loc => <option key={loc} value={loc}>{loc}</option>)}
                                            </select>
                                        </div>
                                    </div>

                                    <div className="form-group">
                                        <label className="label">Detailed Description</label>
                                        <textarea name="desc" rows="4" required placeholder="Describe the work needed..." className="textarea-field"></textarea>
                                    </div>

                                    <button type="submit" disabled={loading} className="button-primary">
                                        {loading ? "Posting..." : "POST JOB NOW!"}
                                    </button>
                                </form>
                            </div>
                        )}

                        {/* Job Detail & Bidding View */}
                        {currentView === 'jobDetail' && selectedJob && (
                            <div className="detail-layout" style={{flexDirection: window.innerWidth < 768 ? 'column' : 'row'}}>
                                
                                {/* Job Info Column */}
                                <div className="detail-info">
                                    <button onClick={() => setCurrentView('dashboard')} className="button-secondary" style={{width: 'auto', marginBottom: '10px'}}>
                                        &larr; Back to Dashboard
                                    </button>
                                    <span style={{float: 'right', fontSize: '10px'}}>ID: {selectedJob.id.slice(0, 6)}</span>
                                    
                                    <h1 style={{fontSize: '20px', marginBottom: '5px', color: '#0055AA'}}>{selectedJob.title}</h1>
                                    <div style={{fontSize: '12px', marginBottom: '10px', borderBottom: '1px dashed #CC0000', paddingBottom: '5px'}}>
                                        <span style={{marginRight: '10px', fontWeight: 'bold'}}>{Icons.MapPin()} {selectedJob.location}</span>
                                        <span style={{marginRight: '10px', color: 'green', fontWeight: 'bold'}}>£ {selectedJob.budget}</span>
                                        <span>Client: {selectedJob.createdBy}</span>
                                    </div>
                                    
                                    <h3 style={{fontSize: '14px', marginBottom: '3px', textDecoration: 'underline'}}>Full Details:</h3>
                                    <p style={{fontSize: '13px', whiteSpace: 'pre-line', marginBottom: '20px', border: '1px solid #CCC', padding: '5px', backgroundColor: '#F9F9F9'}}>
                                        {selectedJob.description}
                                    </p>

                                    {/* Bid Form - Only visible to Builders */}
                                    {userProfile.role === 'builder' ? (
                                        selectedJob.id.startsWith("mock") ? (
                                            <div style={{border: '3px solid #FF3300', backgroundColor: '#FFCCCC', padding: '10px', fontSize: '14px'}}>
                                                Note: Bidding is disabled for mock job postings. This feature works only on real, posted jobs.
                                            </div>
                                        ) : (
                                            <div style={{border: '1px solid #333', padding: '15px', backgroundColor: '#EFEFEF'}}>
                                                <h3 style={{fontSize: '14px', marginBottom: '10px'}}>{Icons.Gavel()} Place Your Bid!</h3>
                                                <form onSubmit={handlePlaceBid} style={{display: 'flex', flexDirection: 'column', gap: '5px'}}>
                                                    <div style={{display: 'grid', gridTemplateColumns: '1fr', gap: '5px'}}>
                                                        <div>
                                                            <label className="label">Your Quote (£)</label>
                                                            <input name="amount" type="number" required className="input-field" placeholder="1200" />
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <label className="label">Message to Client (2-3 lines)</label>
                                                        <textarea name="message" rows="2" required className="textarea-field" placeholder="I can start next week..."></textarea>
                                                    </div>
                                                    <button type="submit" className="button-primary" style={{width: 'auto', marginTop: '10px', padding: '5px 10px'}}>SUBMIT BID</button>
                                                </form>
                                            </div>
                                        )
                                    ) : (
                                        <div style={{border: '2px solid orange', backgroundColor: '#FFCC99', padding: '10px', fontSize: '14px'}}>
                                            Viewing as Client. Switch to Builder role to submit quotes.
                                        </div>
                                    )}
                                </div>

                                {/* Bids Column */}
                                <div className="detail-bids">
                                    <h3 style={{fontSize: '14px', marginBottom: '10px', textDecoration: 'underline'}}>
                                        Current Bids List ({selectedJob.bids?.length || 0})
                                    </h3>
                                    
                                    <div style={{maxHeight: '400px', overflowY: 'auto', border: '1px solid #AAA'}}>
                                        {!selectedJob.bids || selectedJob.bids.length === 0 ? (
                                            <p style={{textAlign: 'center', color: '#666', padding: '10px'}}>No bids received yet.</p>
                                        ) : (
                                            selectedJob.bids.map((bid, idx) => (
                                                <div key={idx} className="bid-item">
                                                    <div style={{display: 'flex', justifyContent: 'space-between', fontWeight: 'bold', fontSize: '13px', borderBottom: '1px dotted #CCC', paddingBottom: '3px'}}>
                                                        <span>{bid.bidder}</span>
                                                        <span style={{color: 'green', fontStyle: 'italic'}}>£{bid.amount}</span>
                                                    </div>
                                                    <p style={{margin: '3px 0', fontSize: '11px'}}>"{bid.message}"</p>
                                                </div>
                                            ))
                                        )}
                                    </div>
                                </div>
                            </div>
                        )}

                    </main>

                    {/* Footer */}
                    <footer style={{backgroundColor: '#33FF55', borderTop: '1px solid #000', padding: '5px', marginTop: '10px', textAlign: 'center', fontSize: '10px'}}>
                        Prototype Version 0.3 - Functional Core Complete.
                    </footer>
                </div>
            );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>